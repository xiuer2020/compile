(function(t){function n(n){for(var r,a,o=n[0],c=n[1],u=n[2],g=0,h=[];g<o.length;g++)a=o[g],Object.prototype.hasOwnProperty.call(i,a)&&i[a]&&h.push(i[a][0]),i[a]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(t[r]=c[r]);l&&l(n);while(h.length)h.shift()();return s.push.apply(s,u||[]),e()}function e(){for(var t,n=0;n<s.length;n++){for(var e=s[n],r=!0,o=1;o<e.length;o++){var c=e[o];0!==i[c]&&(r=!1)}r&&(s.splice(n--,1),t=a(a.s=e[0]))}return t}var r={},i={app:0},s=[];function a(n){if(r[n])return r[n].exports;var e=r[n]={i:n,l:!1,exports:{}};return t[n].call(e.exports,e,e.exports,a),e.l=!0,e.exports}a.m=t,a.c=r,a.d=function(t,n,e){a.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:e})},a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,n){if(1&n&&(t=a(t)),8&n)return t;if(4&n&&"object"===typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(a.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var r in t)a.d(e,r,function(n){return t[n]}.bind(null,r));return e},a.n=function(t){var n=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(n,"a",n),n},a.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},a.p="";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=n,o=o.slice();for(var u=0;u<o.length;u++)n(o[u]);var l=c;s.push([0,"chunk-vendors"]),e()})({0:function(t,n,e){t.exports=e("56d7")},"01a7":function(t,n,e){"use strict";var r=e("2b21"),i=e.n(r);i.a},"0f54":function(t,n,e){"use strict";var r=e("2ef7"),i=e.n(r);i.a},"108e":function(t,n,e){},1595:function(t,n,e){},"1c21":function(t,n,e){},2395:function(t,n,e){},"2b21":function(t,n,e){},"2ce5":function(t,n,e){},"2ef7":function(t,n,e){},4045:function(t,n,e){t.exports=e.p+"img/loading.b4c7c196.svg"},4419:function(t,n,e){"use strict";var r=e("2ce5"),i=e.n(r);i.a},"56d7":function(t,n,e){"use strict";e.r(n);e("e260"),e("e6cf"),e("cca6"),e("a79d");var r=e("2b0e"),i=(e("d3b7"),e("bc3a")),s=e.n(i),a={baseURL:"https://music.kele8.cn"},o=s.a.create(a);o.interceptors.request.use((function(t){return t}),(function(t){return Promise.reject(t)})),o.interceptors.response.use((function(t){return t}),(function(t){return Promise.reject(t)})),Plugin.install=function(t,n){t.axios=o,window.axios=o,Object.defineProperties(t.prototype,{axios:{get:function(){return o}},$axios:{get:function(){return o}}})},r["a"].use(Plugin);Plugin;var c=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{attrs:{id:"app"},on:{touchstart:t.touchstart,touchend:t.touchend}},[e("keep-alive",[e("router-view",{attrs:{playing:t.playing,currentSong:t.currentSong},on:{"tanslate-song":t.switchCurrentSong}})],1),t.PlayBarShow?e("PlayBar",{attrs:{currentSong:t.currentSong,currentSongList:t.currentSongList,playing:t.playing},on:{togglePlay:t.togglePlay,"tanslate-song":t.switchCurrentSong}}):t._e(),e("audio",{attrs:{src:t.currentSongUrl,autoplay:"",controls:"",height:"30"}})],1)},u=[],l=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"play-bar"},[e("div",{staticClass:"play-bar-bottom"},[e("div",{staticClass:"left",on:{click:function(n){n.stopPropagation(),t.showsFullSreen=!0}}},[e("div",{staticClass:"play-bar-img"},[t.currentSongPicUrl?e("img",{attrs:{src:t.currentSongPicUrl,alt:""}}):t._e()]),e("div",{staticClass:"song-introduce-box"},[e("div",{staticClass:"song-name"},[t._v(t._s(t.currentSong.name))]),e("div",{staticClass:"song-artist"},[t._v(t._s(t.joinArtists(t.currentSongArtists)))])])]),e("div",{staticClass:"right",on:{click:function(n){n.stopPropagation(),t.showsFullSreen=!0}}},[e("div",{staticClass:"control",on:{click:function(n){return n.stopPropagation(),t.$emit("togglePlay",!t.playing)}}},[e("canvas",{attrs:{width:"36",heightf:"36",id:"canvas"}}),t.playing?e("i",{staticClass:"fa fa-pause"}):e("i",{staticClass:"fa fa-play"})]),e("i",{staticClass:"fa fa-list-alt list",attrs:{"aria-hidden":"true"},on:{click:function(n){n.stopPropagation(),t.showCurrentSongList=!t.showCurrentSongList}}})]),t.showCurrentSongList?[e("div",{staticClass:"mask"}),e("div",{staticClass:"current-song-list-box"},[e("ul",{staticClass:"current-song-list"},t._l(t.currentSongList,(function(n,r){return e("SongItem",{key:r,attrs:{songItem:n,currentSong:t.currentSong,playing:t.playing,number:r,showNumber:!0},on:{"tanslate-song":function(n){return t.$emit("tanslate-song",n)}}})})),1)])]:t._e()],2),t.showsFullSreen?e("div",{staticClass:"full-creen-details",on:{click:function(n){n.stopPropagation(),t.lyricPage=!t.lyricPage}}},[e("img",{staticClass:"bg-img-filter",attrs:{src:t.currentSongPicUrl,alt:""}}),e("div",{staticClass:"page-guide",on:{click:function(n){n.stopPropagation(),t.showsFullSreen=!1}}},[e("i",{staticClass:"fa fa-reply",attrs:{"aria-hidden":"true"}})]),t.lyricPage?e("div",{staticClass:"lyric-box"},[e("ul",{staticClass:"lyric",style:{transform:"translateY("+28*-t.currentLyricIndex+"px)"}},t._l(t.compileLlyrics,(function(n,r){return e("li",{key:r,class:{active:r===t.currentLyricIndex}},[t._v(t._s(n.text))])})),0)]):e("div",{staticClass:"playing-page",style:"backgrou-image:url("+t.currentSongPicUrl+")"},[e("div",{staticClass:"black-adhesive"},[e("img",{attrs:{src:t.currentSongPicUrl,alt:""}})]),e("div",{staticClass:"controls"},[e("i",{staticClass:"fa fa-fast-backward",attrs:{"aria-hidden":"true"},on:{click:function(n){return n.stopPropagation(),t.switchPrevSong(n)}}}),t.playing?e("i",{staticClass:"fa fa-pause",attrs:{"aria-hidden":"true"},on:{click:function(n){return n.stopPropagation(),t.$emit("togglePlay",!t.playing)}}}):e("i",{staticClass:"fa fa-play",attrs:{"aria-hidden":"true"},on:{click:function(n){return n.stopPropagation(),t.$emit("togglePlay",!t.playing)}}}),e("i",{staticClass:"fa fa-fast-forward",attrs:{"aria-hidden":"true"},on:{click:function(n){return n.stopPropagation(),t.switchNextSong(n)}}})])])]):t._e()])},g=[],h=(e("c975"),e("a15b"),e("d81d"),e("b0c0"),e("a9e3"),e("ac1f"),e("466d"),e("841c"),e("1276"),function(){var t=this,n=t.$createElement,r=t._self._c||n;return r("li",{staticClass:"song-item",on:{click:function(n){return n.stopPropagation(),t.$emit("tanslate-song",t.songItem)}}},[r("div",{staticClass:"left"},[r("div",{staticClass:"song-introduction-box"},[t.number+1?r("div",{staticClass:"song-number"},[t._v(t._s(t.numberComputed))]):t._e(),r("div",{staticClass:"song-introduction"},[r("div",{staticClass:"song-name"},[t._v(" "+t._s(t.songItem.name)+" "+t._s(t.songAlia)+" ")]),r("div",{staticClass:"song-artists"},[t._v(t._s(t.songItemArtists))])])])]),r("div",{staticClass:"right"},[t.currentSong&&t.currentSong.id===t.songItem.id&&t.playing?r("img",{staticClass:"icon icon-play",staticStyle:{background:"none"},attrs:{src:e("803f"),alt:""}}):r("i",{staticClass:"fa fa-play-circle-o"})])])}),d=[],p={name:"SongItem",props:{number:Number,songItem:Object,currentSong:Object,playing:Boolean,showNumber:Boolean},computed:{numberComputed:function(){return this.number<9?"0".concat(this.number+1):this.number+1},songItemArtists:function(){return this.songItem.song?this.songItem.song.artists.map((function(t){return t.name})).join("/"):this.songItem.ar?this.songItem.ar.map((function(t){return t.name})).join("/"):null},songAlia:function(){return this.songItem.alia?this.songItem.alia.join("-"):""}}},f=p,m=(e("91bc"),e("2877")),S=Object(m["a"])(f,h,d,!1,null,"45130552",null),y=S.exports,v={name:"PlayBar",props:{currentSong:Object,currentSongList:Array,playing:Boolean},components:{SongItem:y},data:function(){return{currentSongListIndex:0,currentLyric:{},currentLyricIndex:null,showsFullSreen:!1,lyricPage:!0,showCurrentSongList:!1}},computed:{currentSongPicUrl:function(){return this.currentSong.picUrl?this.currentSong.picUrl:this.currentSong.al?this.currentSong.al.picUrl:this.currentSong.artists?this.currentSong.artists.img1v1Url:null},currentSongArtists:function(){return this.currentSong.song?this.currentSong.song.artists:this.currentSong.ar?this.currentSong.ar:this.currentSong.artists?this.currentSong.artists:null},currentSongDuration:function(){return this.currentSong.song?this.currentSong.song.duration:this.currentSong.dt?this.currentSong.dt:this.currentSong.duration?this.currentSong.duration:null},compileLlyrics:function(){return this.currentLyric?this.currentLyric.split("\n").map((function(t){var n=/\d{2}:\d{2}\.\d+/i;if(-1!==t.search(n)){var e=t.match(n)[0],r=e.substr(0,2),i=e.substr(3,2),s=e.substr(5);return{time:60*Number(r)+Number(i)+Number(s),text:t.substr(11)||"---------"}}return{}})):null}},watch:{currentSong:function(){this.getLyric()}},methods:{getLyric:function(){var t=this,n=window.localStorage.getItem("lyric"+this.currentSong.id);n?this.currentLyric=n:window.axios.get("lyric",{params:{id:this.currentSong.id}}).then((function(n){t.currentLyric=n.data.lrc.lyric,window.localStorage.setItem("lyric"+t.currentSong.id,n.data.lrc.lyric)}))},joinArtists:function(t){return t.map((function(t){return t.name})).join("/")},drawProgress:function(){var t=this,n=this.$el.querySelector("#canvas"),e=this.$parent.$el.querySelector("audio"),r=this.currentSongDuration;e.ontimeupdate=function(){e.currentTime>=e.duration&&(t.currentSongIndex=t.currentSongIndex+1,t.currentSong=t.currentSongList[t.currentSongIndex]);var i=n.getContext("2d");if(i.clearRect(0,0,36,36),i.beginPath(),i.arc(18,18,17,0,2*Math.PI),i.closePath(),i.strokeStyle="gray",i.lineWidth="1",i.stroke(),i.closePath(),i.beginPath(),i.arc(18,18,17,-.5*Math.PI,-.5*Math.PI+2*Math.PI*(1e3*e.currentTime/r)),i.strokeStyle="rgba(255,0,0,0.7)",i.lineWidth="1",i.stroke(),t.currentLyric){for(var s,a=0;a<t.compileLlyrics.length;a++)if(e.currentTime+.15<t.compileLlyrics[a].time){s=a-1;break}void 0===s&&(s=t.compileLlyrics.length-1),t.currentLyricIndex=s}}},switchPrevSong:function(){this.currentSongListIndex>0?(this.currentSongListIndex-=1,this.$emit("tanslate-song",this.currentSongList[this.currentSongListIndex])):(this.currentSongListIndex=this.currentSongList.length-1,this.$emit("tanslate-song",this.currentSongList[this.currentSongList.length-1]))},switchNextSong:function(){this.currentSongListIndex<this.currentSongList.length-1?(this.currentSongListIndex+=1,this.$emit("tanslate-song",this.currentSongList[this.currentSongListIndex])):(this.currentSongListIndex=0,this.$emit("tanslate-song",this.currentSongList[0]))},removeDuplication:function(t){for(var n=[],e=0;e<t.length;e++)-1===n.indexOf(t[e])&&n.push(t[e]);return n}},created:function(){this.getLyric()},mounted:function(){this.drawProgress()}},b=v,w=(e("8431"),Object(m["a"])(b,l,g,!1,null,"3601895c",null)),C=w.exports,L={components:{PlayBar:C},data:function(){return{currentSong:{id:""},currentSongList:[],touchstartX:0,PlayBarShow:!1,playing:!1}},computed:{currentSongUrl:function(){return"https://music.163.com/song/media/outer/url?id=".concat(this.currentSong.id,".mp3")}},watch:{playing:function(t){var n=this.$el.querySelector("audio");t?n.play():n.pause()}},methods:{togglePlay:function(t){this.playing=t},switchCurrentSong:function(t){if(this.currentSong=t,this.currentSongList)for(var n=0;n<this.currentSongList.length;n++)if(this.currentSongList[n].id===this.currentSong.id)break;n===this.currentSongList.length&&this.currentSongList.push(t),this.PlayBarShow=!0},touchstart:function(t){this.touchstartX=t.changedTouches[0].clientX,this.touchstartY=t.changedTouches[0].clientY},touchend:function(t){t.changedTouches[0].clientX-this.touchstartX>50&&(this.touchstartX=0,this.touchstartY=0,this.routerBack()),t.changedTouches[0].clientX-this.touchstartX<-50&&this.routerForward()},routerBack:function(){this.$router.back()},routerForward:function(){this.$router.forward()}},mounted:function(){var t=this,n=this.$el.querySelector("audio");n.onplay=function(){t.playing=!0},n.onpause=function(){t.playing=!1}}},_=L,P=(e("7c55"),Object(m["a"])(_,c,u,!1,null,null,null)),x=P.exports,k=e("8c4f"),I=function(){var t=this,n=t.$createElement,r=t._self._c||n;return r("div",{staticClass:"home"},[t.showLoading?r("div",{staticClass:"loading"},[r("img",{attrs:{src:e("4045"),alt:""}})]):t._e(),r("HomeLink"),r("div",{staticClass:"personalized"},[r("CardTitle",[t._v("推荐歌单")]),r("ul",{staticClass:"songList"},t._l(t.slicePersonalizeds,(function(t,n){return r("SongListCard",{key:n,attrs:{songList:t}})})),1)],1),r("div",{staticClass:"newsong"},[r("cardTitle",[t._v("推荐音乐")]),r("ul",t._l(t.newsongs,(function(n,e){return r("SongItem",{key:e,attrs:{songItem:n,showNumber:!1,currentSong:t.currentSong,playing:t.playing},on:{"tanslate-song":function(n){return t.$emit("tanslate-song",n)}}})})),1)],1)],1)},O=[],j=(e("fb6a"),e("2909")),D=e("5530"),$=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("ul",{attrs:{id:"nav"}},[e("li",[e("router-link",{attrs:{to:"/"}},[t._v("推荐音乐")])],1),e("li",[e("router-link",{attrs:{to:"/hot"}},[t._v("热歌榜")])],1),e("li",[e("router-link",{attrs:{to:"/search"}},[t._v("搜索")])],1)])},E=[],N={},U=N,H=(e("01a7"),Object(m["a"])(U,$,E,!1,null,"10bd8dee",null)),T=H.exports,B=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"title"},[t._t("default")],2)},q=[],z={},J=z,F=(e("0f54"),Object(m["a"])(J,B,q,!1,null,"79d700ea",null)),V=F.exports,A=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("li",{staticClass:"card",on:{click:function(n){return t.routerToPlayListPage(t.songList.id)}}},[e("div",{staticClass:"thumb"},[e("img",{attrs:{src:t.songList.picUrl,alt:""}}),e("span",[e("i",{staticClass:"fa fa-headphones"}),t._v(" "+t._s(t.playCountParse(t.songList.playCount))+" ")])]),e("h5",[t._v(t._s(t.songList.name))])])},M=[],X=(e("b680"),{props:{songList:{type:Object,default:function(){return{id:4969079749,type:0,name:"欧美 | 欢快小调拯救你的不开心",copywriter:"编辑推荐：音乐是治愈人心的良药",picUrl:"https://p2.music.126.net/nflx5ZxSSPivvGnyS5WRGw==/109951164906376339.jpg",canDislike:!1,trackNumberUpdateTime:1586934907095,playCount:1209355,trackCount:100,highQuality:!1,alg:"featured"}}}},methods:{playCountParse:function(t){return t>1e8?"".concat((t/1e8).toFixed(1),"亿"):t>1e4?"".concat((t/1e4).toFixed(1),"万"):void 0},routerToPlayListPage:function(t){this.$router.push({path:"playlist",query:{id:t}})}}}),R=X,Y=(e("ac5a"),Object(m["a"])(R,A,M,!1,null,null,null)),W=Y.exports,G=e("2f62"),Q={name:"Home",props:{currentSong:Object,playing:Boolean},components:{HomeLink:T,CardTitle:V,SongListCard:W,SongItem:y},data:function(){return{personalizeds:[],newsongs:[],showLoading:!1,PlayBarShow:!1}},computed:Object(D["a"])({},Object(G["d"])(["err"]),{slicePersonalizeds:function(){return Object(j["a"])(this.personalizeds).slice(0,6)}}),methods:Object(D["a"])({},Object(G["c"])(["updataErr"]),{},Object(G["b"])({actionUpdataErr:"updataErr"}),{getPersonalized:function(){var t=this;this.axios.get("/personalized").then((function(n){t.showLoading=!1,t.personalizeds=n.data.result,window.localStorage.setItem("personalizeds",JSON.stringify({expire:Date.now()+36e5,result:n.data.result}))})).catch((function(t){this.actionUpdataErr(t)}))},getNewSong:function(){var t=this;this.axios.get("/personalized/newsong").then((function(n){t.showLoading=!1,t.newsongs=n.data.result,window.localStorage.setItem("newsongs",JSON.stringify({expire:Date.now()+36e5,result:n.data.result}))})).catch((function(t){this.actionUpdataErr(t)}))}}),created:function(){var t=window.localStorage.getItem("personalizeds");t?(t=JSON.parse(t),t&&t.expire>Date.now()?this.personalizeds=t.result:(this.showLoading=!0,this.getPersonalized())):(this.showLoading=!0,this.getPersonalized());var n=window.localStorage.getItem("newsongs");n?(n=JSON.parse(n),n&&n.expire>Date.now()?this.newsongs=n.result:(this.showLoading=!0,this.getNewSong())):(this.showLoading=!0,this.getNewSong())}},Z=Q,K=(e("af1e"),Object(m["a"])(Z,I,O,!1,null,"93595c9a",null)),tt=K.exports,nt=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"playlist"},[e("HomeLink"),t._m(0),t._l(t.songListDetail.tracks,(function(n,r){return e("SongItem",{key:r,attrs:{songItem:n,currentSong:t.currentSong,playing:t.playing,number:r,showNumber:!0},on:{"tanslate-song":function(n){return t.$emit("tanslate-song",n)}}})}))],2)},et=[function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"poster"},[e("div",{staticClass:"poster-content"})])}],rt={name:"Hot",components:{HomeLink:T,SongItem:y},props:{playing:Boolean,currentSong:Object},data:function(){return{songListDetail:null}},computed:Object(D["a"])({},Object(G["d"])(["err"])),methods:Object(D["a"])({},Object(G["c"])(["updataErr"]),{},Object(G["b"])({actionUpdataErr:"updataErr"})),created:function(){this.songListDetail=JSON.parse(window.localStorage.getItem("hotSongListDetail")).playlist},beforeRouteEnter:function(t,n,e){var r=JSON.parse(window.localStorage.getItem("hotSongListDetail"));r&&r.expire>Date.now()?e((function(t){t.songListDetail=r.playlist})):window.axios.get("/top/list?idx=1").then((function(t){window.localStorage.setItem("hotSongListDetail",JSON.stringify({expire:Date.now()+108e5,playlist:t.data.playlist})),e((function(n){n.songListDetail=t.data.playlist}))})).catch((function(){}))}},it=rt,st=(e("4419"),Object(m["a"])(it,nt,et,!1,null,null,null)),at=st.exports,ot=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"Search"},[e("HomeLink"),e("div",{staticClass:"search-bar"},[e("i",{staticClass:"fa fa-search",attrs:{"aria-hidden":"true"}}),e("input",{directives:[{name:"model",rawName:"v-model",value:t.searchValue,expression:"searchValue"}],attrs:{type:"text",name:"",id:""},domProps:{value:t.searchValue},on:{input:function(n){n.target.composing||(t.searchValue=n.target.value)}}}),e("i",{staticClass:"fa fa-times",on:{click:t.stopSearch}})]),e("div",{staticClass:"search-suggestions"},[t.musicSearch?e("div",[e("div",{staticClass:"item-title"},[t._v("音乐相关")]),t._l(t.musicSearch,(function(n,r){return e("div",{key:r,staticClass:"suggetion-item",on:{click:function(e){return t.musicSearchCickHandle(n)}}},[t._v(t._s(n.name)+"-"+t._s(n.artists[0].name))])}))],2):t._e()]),e("div",{staticClass:"item-title"},[t._v("搜索历史")]),t.searchHistory?e("div",{staticClass:"searchHistory"},t._l(t.searchHistory,(function(n,r){return e("span",{key:r,on:{click:function(e){t.searchValue=n}}},[t._v(t._s(n))])})),0):t._e()],1)},ct=[],ut=(e("99af"),{naem:"Search",props:{playing:Boolean,currentSong:Object},components:{HomeLink:T},data:function(){return{searchValue:"",searchHistory:[],musicSearch:null,lastSetCacheTime:null}},computed:Object(D["a"])({},Object(G["d"])(["err"])),watch:{searchValue:function(){this.updateSearchData()}},methods:Object(D["a"])({},Object(G["c"])(["updataErr"]),{},Object(G["b"])({actionUpdataErr:"updataErr"}),{resetSearch:function(){this.searchValue="",this.musicSearch=null,this.albumSearch=null},updateSearchData:function(){var t=this;Date.now()>this.lastSetCacheTime+3e3&&this.axios.get("/search/suggest",{params:{keywords:this.searchValue}}).then((function(n){t.lastSetCacheTime=Date.now(),t.musicSearch=n.data.result.songs})).catch((function(t){this.actionUpdataErr(t)}))},musicSearchCickHandle:function(t){this.searchHistory.push("".concat(t.name,"-").concat(t.artists[0].name)),this.searchHistory=this.removeDuplication(this.searchHistory),t.id>=1e9?this.$emit("tanslate-song",t):window.alert("无版权"),this.resetSearch()},albumSearchCickHandle:function(t){this.searchHistory.push("".concat(t.name,"-").concat(t.artist.name)),this.searchHistory=this.removeDuplication(this.searchHistory),this.searchValue="",t.id>1e9?this.$router.push({path:"playlist",query:{id:t.id}}):window.alert("无版权"),this.resetSearch()},stopSearch:function(){this.searchValue="",this.musicSearch=null,this.albumSearch=null},removeDuplication:function(t){for(var n=[],e=0;e<t.length;e++)-1===n.indexOf(t[e])&&n.push(t[e]);return n}}),created:function(){this.lastSetCacheTime=Date.now()}}),lt=ut,gt=(e("7621"),Object(m["a"])(lt,ot,ct,!1,null,"23a0b622",null)),ht=gt.exports,dt=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"PlayList"},[e("div",{staticClass:"header"},[e("div",{staticClass:"mask"}),e("img",{staticClass:"bg-img-filter",attrs:{src:t.songListDetail.coverImgUrl,alt:""}}),e("div",{staticClass:"left"},[e("img",{attrs:{src:t.songListDetail.coverImgUrl,alt:""}}),e("span",[e("i",{staticClass:"fa fa-headphones"}),t._v(" "+t._s(t.playCount)+" ")])]),e("div",{staticClass:"right"},[e("div",{staticClass:"list-name"},[t._v(t._s(t.songListDetail.name))]),e("div",{staticClass:"list-artist-iniformation"},[e("img",{attrs:{src:t.songListDetail.subscribers[0].avatarUrl,alt:""}}),e("span",[t._v(t._s(t.songListDetail.creator.nickname))])])])]),e("div",{staticClass:"content"},[e("div",{staticClass:"tag-bar"},[e("span",[t._v("标签:")]),t._l(t.songListDetail.tags,(function(n,r){return e("span",{key:r,staticClass:"tag"},[t._v(t._s(n))])}))],2),e("div",{staticClass:"list-introduce"},[t._v("简介:"+t._s(t.songListDetail.description))]),e("div",{staticClass:"item-tite"},[t._v("歌曲列表")]),t._l(t.songListDetail.tracks,(function(n,r){return e("SongItem",{key:r,attrs:{number:r,songItem:n,currentSong:t.currentSong,playing:t.playing,showNumbe:!0},on:{"tanslate-song":function(n){return t.$emit("tanslate-song",n)}}})}))],2)])},pt=[],ft={name:"PlayList",props:{playing:Boolean,currentSong:Object},components:{SongItem:y},data:function(){return{songListId:this.$route.query.id,songListDetail:null}},methods:Object(D["a"])({},Object(G["c"])(["updataErr"]),{},Object(G["b"])({actionUpdataErr:"updataErr"})),computed:Object(D["a"])({},Object(G["d"])(["err"]),{playCount:function(){return this.songListDetail.playCount>=1e8?"".concat((this.songListDetail.playCount/1e8).toFixed(1),"亿"):"".concat((this.songListDetail.playCount/1e4).toFixed(1),"万")}}),created:function(){this.songListDetail=JSON.parse(window.localStorage.getItem("sl-"+this.songListId)).playlist},beforeRouteEnter:function(t,n,e){var r=JSON.parse(window.localStorage.getItem("sl-"+t.query.id));r&&r.expire>Date.now()?e((function(n){n.songListId=Number(t.query.id)})):window.axios.get("/playlist/detail",{params:{id:t.query.id}}).then((function(n){window.localStorage.setItem("sl-"+t.query.id,JSON.stringify({expire:Date.now()+108e5,playlist:n.data.playlist})),e((function(n){n.songListId=Number(t.query.id)}))})).catch((function(t){this.actionUpdataErr(t)}))}},mt=ft,St=(e("8462"),Object(m["a"])(mt,dt,pt,!1,null,"70eadece",null)),yt=St.exports;r["a"].use(k["a"]);var vt=[{path:"/",name:"Home",component:tt},{path:"/hot",name:"Hot",component:at},{path:"/search",name:"Search",component:ht},{path:"/playList",name:"PlayList",component:yt,meta:{requiresAuth:!0}}],bt=new k["a"]({routes:vt}),wt=bt;r["a"].use(G["a"]);var Ct=new G["a"].Store({state:{err:null},mutations:{updateErr:function(t,n){t.err=n}},actions:{updateErr:function(t,n){t.commit("updateErr",n)}},modules:{}});r["a"].config.productionTip=!1,r["a"].use(G["a"]),new r["a"]({router:wt,store:Ct,render:function(t){return t(x)}}).$mount("#app")},"6c4c":function(t,n,e){},7621:function(t,n,e){"use strict";var r=e("108e"),i=e.n(r);i.a},"7c55":function(t,n,e){"use strict";var r=e("2395"),i=e.n(r);i.a},"803f":function(t,n,e){t.exports=e.p+"img/playing.ab1993a5.svg"},8431:function(t,n,e){"use strict";var r=e("b8fd"),i=e.n(r);i.a},8462:function(t,n,e){"use strict";var r=e("6c4c"),i=e.n(r);i.a},"91bc":function(t,n,e){"use strict";var r=e("1c21"),i=e.n(r);i.a},ac5a:function(t,n,e){"use strict";var r=e("e271"),i=e.n(r);i.a},af1e:function(t,n,e){"use strict";var r=e("1595"),i=e.n(r);i.a},b8fd:function(t,n,e){},e271:function(t,n,e){}});
//# sourceMappingURL=app.715d5899.js.map